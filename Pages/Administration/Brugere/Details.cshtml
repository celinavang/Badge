@page
@model Badge.Pages.Administration.User.DetailsModel
@{
    ViewData["Title"] = "Detaljer";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

<h2>@Model.User.FullName</h2>

<div>
    <div class="box-full flex">
        <div class="box-half">
            <h4>Info</h4>
            <hr />
            <dl class="row">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.User.FName)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.User.FName)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.User.LName)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.User.LName)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.User.Email)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.User.Email)
                </dd>
                <dt class="col-sm-2">
                    Tlf. nummer
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.User.PhoneNumber)
                </dd>
            </dl>
        </div>
        <div class="box-3rd" style="margin:0px auto; height:100%;">
            <h4>Systemroller</h4>
            <hr />
            @foreach( var item in Model.Roles)
            {
                <div>
                    @Model.User.FName er @item.Name
                </div>
            }
        </div>
    </div>
    @if (Model.Roles.Where(r => r.Name == "Leader").Any())
    {
        <div class="box-full">
            <h4>Grupper</h4>
        <hr />
            <div>
                <table class="table">
                    <thead>
                        <tr>
                            <th>
                                Navn
                            </th>
                            <th>
                                Gruppetype
                            </th>
                            <th>Medlemmer</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.Groups)
                        {
                            <tr>
                                <td>
                                    <a asp-page="/Administration/Gruppe/Details" asp-route-id="@item.Id">@item.Name</a>
                                </td>
                                <td>
                                    @item.GroupType.Name
                                </td>
                                <td>
                                    @item.Members.Count
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
    </div>
    }
</div>
